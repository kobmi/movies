{"version":3,"sources":["movieTabs.jsx","movieItem.jsx","pagination.jsx","app.jsx","util.js","index.js"],"names":["MovieTabs","sort_by","updateSortBy","getLinkClassNames","value","classNames","active","handleUpdateSortBy","className","onClick","href","MovieItem","state","willWatch","toggleWilWatch","setState","prevState","this","props","movie","removeMovie","addMovieToWillWatch","deleteMovieFromWillWatch","src","backdrop_path","poster_path","alt","title","vote_average","release_date","type","id","getButtonClassNames","Component","Pagination","getNextPage","getPreviousPage","page","aria-label","disabled","App","getMovies","fetch","then","response","json","data","movies","results","updateMovies","filter","item","updateMoviesWillWatch","moviesWillWatch","console","log","prevProps","map","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fec6ec5a.chunk.js","sourcesContent":["import React from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nconst MovieTabs = ({ sort_by, updateSortBy }) => {\r\n    const getLinkClassNames = (value) => {\r\n        return classNames(\"nav-link\", { active: sort_by === value });\r\n    };\r\n    const handleUpdateSortBy = (value) => {\r\n        return () => updateSortBy(value);\r\n    };\r\n    return (\r\n        <ul className=\"nav nav-tabs\">\r\n            <li className=\"nav-item\">\r\n                <a\r\n                    onClick={handleUpdateSortBy(\"popularity.desc\")}\r\n                    href=\"#\"\r\n                    className={getLinkClassNames(\"popularity.desc\")}\r\n                >\r\n                    Popularity desc\r\n                </a>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n                <a\r\n                    onClick={handleUpdateSortBy(\"revenue.desc\")}\r\n                    href=\"#\"\r\n                    className={getLinkClassNames(\"revenue.desc\")}\r\n                >\r\n                    Revenue desc\r\n                </a>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n                <a\r\n                    onClick={handleUpdateSortBy(\"vote_avarage.desc\")}\r\n                    href=\"#\"\r\n                    className={getLinkClassNames(\"vote_avarage.desc\")}\r\n                >\r\n                    Vote avarage desc\r\n                </a>\r\n            </li>\r\n        </ul>\r\n    );\r\n};\r\n\r\nexport default MovieTabs;\r\n","import React, { Component } from \"react\";\r\nimport classNames from \"classnames\";\r\nexport default class MovieItem extends Component {\r\n    state = {\r\n        willWatch: false,\r\n    };\r\n\r\n    toggleWilWatch = () => {\r\n        this.setState((prevState) => ({ willWatch: !prevState.willWatch }));\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            movie,\r\n            removeMovie,\r\n            addMovieToWillWatch,\r\n            deleteMovieFromWillWatch,\r\n        } = this.props;\r\n\r\n        const willWatch = this.state.willWatch;\r\n        const getButtonClassNames = (willWatch) => {\r\n            return classNames(\"btn\", {\r\n                \"btn-secondary\": !willWatch,\r\n                \"btn-success\": willWatch,\r\n            });\r\n        };\r\n        return (\r\n            <div className=\"card\">\r\n                <img\r\n                    className=\"card-img-top\"\r\n                    src={`https://image.tmdb.org/t/p/w500${\r\n                        movie.backdrop_path || movie.poster_path\r\n                    }`}\r\n                    alt=\"\"\r\n                />\r\n                <div className=\"card-body\">\r\n                    <h6 className=\"card-title\">{movie.title}</h6>\r\n                    <p className=\"mb-1\">Rating: {movie.vote_average}</p>\r\n                    <p className=\"mb-1\">Release: {movie.release_date}</p>\r\n                    <div className=\"d-flex justify-content-start align-items-center flex-wrap\">\r\n                        <button\r\n                            className=\"btn btn-danger mr-2\"\r\n                            type=\"button\"\r\n                            onClick={() => {\r\n                                removeMovie(movie.id);\r\n                            }}\r\n                        >\r\n                            Delete\r\n                        </button>\r\n                        <button\r\n                            type=\"button\"\r\n                            className={getButtonClassNames(willWatch)}\r\n                            onClick={() => {\r\n                                this.toggleWilWatch();\r\n                                willWatch\r\n                                    ? deleteMovieFromWillWatch(movie)\r\n                                    : addMovieToWillWatch(movie);\r\n                            }}\r\n                        >\r\n                            Will Watch\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nconst Pagination = ({ getNextPage, getPreviousPage, page }) => {\r\n    const getLinkClassNames = () => {\r\n        return classNames(\"page-item\", { disabled: page === 1 });\r\n    };\r\n\r\n    return (\r\n        <nav aria-label=\"Page navigation example\">\r\n            <ul className=\"pagination\">\r\n                <li className={getLinkClassNames()}>\r\n                    <a onClick={getPreviousPage} className=\"page-link\" href=\"#\">\r\n                        Previous\r\n                    </a>\r\n                </li>\r\n                <li className=\"page-item\">\r\n                    <a onClick={getNextPage} className=\"page-link\" href=\"#\">\r\n                        Next\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        </nav>\r\n    );\r\n};\r\nexport default Pagination;\r\n","import React, { Component } from \"react\";\nimport MovieTabs from \"./movieTabs\";\nimport MovieItem from \"./movieItem\";\nimport Pagination from \"./pagination\";\nimport { API_URL, API_KEY_3 } from \"./util\";\n\nclass App extends Component {\n    constructor() {\n        super();\n        this.state = {\n            movies: [],\n            moviesWillWatch: [],\n            sort_by: \"revenue.desc\",\n            page: 1,\n        };\n        console.log(\"constructor\");\n    }\n\n    componentDidMount() {\n        console.log(\"did mount\");\n        this.getMovies();\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        console.log(\"did update\");\n        if (prevState.sort_by !== this.state.sort_by) {\n            this.getMovies();\n        }\n        if (prevState.page !== this.state.page) {\n            this.getMovies();\n        }\n    }\n\n    getMovies = () => {\n        fetch(\n            `${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}&page=${this.state.page}`\n        )\n            .then((response) => {\n                return response.json();\n            })\n            .then((data) => {\n                this.setState({\n                    movies: data.results,\n                });\n            });\n    };\n\n    updateSortBy = (value) => {\n        this.setState({\n            sort_by: value,\n        });\n    };\n\n    removeMovie = (id) => {\n        const updateMovies = this.state.movies.filter((item) => item.id !== id);\n        this.setState({\n            movies: updateMovies,\n        });\n    };\n\n    addMovieToWillWatch = (movie) => {\n        const updateMoviesWillWatch = [...this.state.moviesWillWatch, movie];\n        this.setState({\n            moviesWillWatch: updateMoviesWillWatch,\n        });\n    };\n\n    deleteMovieFromWillWatch = (movie) => {\n        const updateMoviesWillWatch = this.state.moviesWillWatch.filter(\n            (item) => item.id !== movie.id\n        );\n        this.setState({\n            moviesWillWatch: updateMoviesWillWatch,\n        });\n    };\n\n    getNextPage = () => {\n        this.setState((prevState) => ({ page: prevState.page + 1 }));\n    };\n    getPreviousPage = () => {\n        this.setState((prevState) => ({ page: prevState.page - 1 }));\n    };\n\n    render() {\n        const movies = this.state.movies;\n        const moviesWillWatch = this.state.moviesWillWatch;\n        const page = this.state.page;\n\n        console.log(\"render\");\n        return (\n            <div className=\"container\">\n                <div className=\"row mt-4\">\n                    <div className=\"col-9\">\n                        <div className=\"row mb-2\">\n                            <div className=\"col-12 mb-2\">\n                                <MovieTabs\n                                    sort_by={this.state.sort_by}\n                                    updateSortBy={this.updateSortBy}\n                                />\n                            </div>\n                            <div className=\"col-12\">\n                                <Pagination\n                                    getNextPage={this.getNextPage}\n                                    getPreviousPage={this.getPreviousPage}\n                                    page={page}\n                                />\n                            </div>\n                        </div>\n                        <div className=\"row mb-4\"></div>\n                        <div className=\"row\">\n                            {movies.map((movie) => (\n                                <div className=\"col-6 mb-4\" key={movie.id}>\n                                    <MovieItem\n                                        movie={movie}\n                                        removeMovie={this.removeMovie}\n                                        addMovieToWillWatch={\n                                            this.addMovieToWillWatch\n                                        }\n                                        deleteMovieFromWillWatch={\n                                            this.deleteMovieFromWillWatch\n                                        }\n                                    />\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                    <div className=\"col-3\">\n                        <h4>Will Watch: {moviesWillWatch.length} movies</h4>\n                        <ul className=\"list-group\">\n                            {moviesWillWatch.map((movie) => (\n                                <li key={movie.id} className=\"list-group-item\">\n                                    <div className=\"d-flex justify-content-between\">\n                                        <p>{movie.title}</p>\n                                        <p>{movie.vote_average}</p>\n                                    </div>\n                                </li>\n                            ))}\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","export const API_KEY_3 = \"429b19e81782e561f81cdf381ab60587\";\r\nexport const API_KEY_4 =\r\n    \"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI0MjliMTllODE3ODJlNTYxZjgxY2RmMzgxYWI2MDU4NyIsInN1YiI6IjVmYzgwODBiYTEwNzRiMDA0MmVkMWNmOCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.bHXR76A0feks_MVySm0XuaxP8hwx77i9Ndg7UIzVq40\";\r\nexport const API_URL = \"https://api.themoviedb.org/3\";\r\n\r\n// https://api.themoviedb.org/3/movie/550?api_key=429b19e81782e561f81cdf381ab60587\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./app\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}